import{A as h,E as c,d as B,o as x,c as y,a as s,w as l,v as p,r as m,u as b,t as S,b as C,p as k,e as w,s as f,f as $,g as A}from"./index-81b1c270.js";import{_ as L}from"./plugin-vue_export-helper-c27b6911.js";const D="",n=h.create({baseURL:D,timeout:2e4});n.interceptors.request.use(e=>e,e=>Promise.reject(e));n.interceptors.response.use(e=>e,e=>{if(e.response&&e.response.data){const t=e.response.status,a=e.response.data.message;c.error(`Code: ${t}, Message: ${a}`)}else c.error(`${e}`);return Promise.reject(e)});function R(e){return n.get("/api/user/login",e)}const V=B({name:"Login",setup(){const e=m({codeSrc:"",codetoken:""}),t=m({user:"April",pass:"123456",code:"",whetherAutoLogin:!1}),a={user:[{required:!0,message:"请输入用户名账号",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},i=async()=>{e.codeSrc="",e.codetoken=""},u=b(),d=async()=>{const{data:v}=await R({}),{token:_,menuList:g}=v.data;f("token",_),f("menuList",g),await $();const F=A.state.menus;u.push({path:F.permissionMenu})},o=()=>{d()};return{...S(e),formRules:a,formField:t,submitForm:o,getValidateCodeHandle:i}}}),r=e=>(k("data-v-354e80ff"),e=e(),w(),e),q=r(()=>s("div",{class:"color"},null,-1)),I=r(()=>s("div",{class:"color"},null,-1)),M=r(()=>s("div",{class:"color"},null,-1)),E={class:"box"},U=C('<div class="circle" style="--x:0;" data-v-354e80ff></div><div class="circle" style="--x:1;" data-v-354e80ff></div><div class="circle" style="--x:2;" data-v-354e80ff></div><div class="circle" style="--x:3;" data-v-354e80ff></div><div class="circle" style="--x:4;" data-v-354e80ff></div>',5),j={class:"container"},H={class:"form"},N=r(()=>s("h2",null,"登录",-1)),P={class:"inputBox"},T={class:"inputBox"},z={class:"inputBox"};function G(e,t,a,i,u,d){return x(),y("section",null,[q,I,M,s("div",E,[U,s("div",j,[s("div",H,[N,s("form",null,[s("div",P,[l(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.formField.user=o),type:"text",placeholder:"姓名",readonly:""},null,512),[[p,e.formField.user]])]),s("div",T,[l(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>e.formField.user=o),type:"password",placeholder:"密码",readonly:""},null,512),[[p,e.formField.user]])]),s("div",z,[s("div",{class:"submit",onClick:t[2]||(t[2]=(...o)=>e.submitForm&&e.submitForm(...o))},"登录")])])])])])])}const Q=L(V,[["render",G],["__scopeId","data-v-354e80ff"]]);export{Q as default};
