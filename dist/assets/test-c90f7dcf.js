import{d as h,l as m,x as g,o as k,c as C,a as l,k as u,C as c,D as r,G as p,H as v}from"./index-7d6d46e4.js";import{_}from"./plugin-vue_export-helper-c27b6911.js";const w=h({name:"environAmbitus",setup(){const e=m(),s=m();function i(o){const t=o.target||o.srcElement,n=t.getContext("2d");n.beginPath(),n.moveTo(o.offsetX,o.offsetY),n.lineTo(o.offsetX,o.offsetY),n.stroke(),t.onmousemove=function(a){if(a.which===0){t.onmousemove=null,t.onmouseup=null;return}n.lineTo(a.offsetX,a.offsetY),n.stroke()},t.onmouseup=function(){t.onmousemove=null,t.onmouseup=null},t.focus()}function f(o){v(()=>{e.value.getContext("2d").clearRect(0,0,e.value.width,e.value.height)})}function d(){v(()=>{try{const o=document.createElement("canvas");o.width=e.value.width,o.height=e.value.height,s.value=e.value.toDataURL()}catch(o){console.warn(o)}})}return{onMouseDown:i,confirm:d,clearPanel:f,canvas:e,imgUrl:s}}}),x={style:{width:"300px",height:"200px",border:"1px solid red"}},D={slot:"footer",class:"dialog-footer"},b=["src"];function E(e,s,i,f,d,o){const t=g("el-button");return k(),C("div",x,[l("canvas",{ref:"canvas",class:"jSignature",tabindex:"0",onMousedown:s[0]||(s[0]=(...n)=>e.onMouseDown&&e.onMouseDown(...n))},null,544),l("footer",D,[u(t,{type:"danger",onClick:p(e.clearPanel,["prevent"])},{default:c(()=>[r("清空签名")]),_:1},8,["onClick"]),u(t,{type:"primary",onClick:e.confirm},{default:c(()=>[r("确认签名")]),_:1},8,["onClick"]),u(t,{onClick:p(e.clearPanel,["prevent"])},{default:c(()=>[r("取消")]),_:1},8,["onClick"])]),l("img",{class:"imgCanvas",src:e.imgUrl},null,8,b)])}const M=_(w,[["render",E]]);export{M as default};
